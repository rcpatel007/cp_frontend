(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{J9tS:function(e,t,o){"use strict";o("f5O9"),o("pW6c"),o("VITL")},a9oU:function(e,t,o){"use strict";o.d(t,"a",function(){return l}),o.d(t,"b",function(){return u}),o.d(t,"c",function(){return r}),o.d(t,"d",function(){return c}),o.d(t,"e",function(){return h});var i=o("CcnG"),n=o("t/Na"),s=o("Ip0R"),r=function(){function e(e,t){var o=this;this.http=e,this.doc=t,this.saveSelection=function(){if(o.doc.getSelection){var e=o.doc.getSelection();e.getRangeAt&&e.rangeCount&&(o.savedSelection=e.getRangeAt(0),o.selectedText=e.toString())}else o.savedSelection=o.doc.getSelection&&o.doc.createRange?document.createRange():null}}return e.prototype.executeCommand=function(e){["h1","h2","h3","h4","h5","h6","p","pre"].includes(e)?this.doc.execCommand("formatBlock",!1,e):this.doc.execCommand(e,!1,null)},e.prototype.createLink=function(e){e.includes("http")?this.insertHtml('<a href="'+e+'" target="_blank">'+this.selectedText+"</a>"):this.doc.execCommand("createlink",!1,e)},e.prototype.insertColor=function(e,t){this.restoreSelection()&&this.doc.execCommand("textColor"===t?"foreColor":"hiliteColor",!1,e)},e.prototype.setFontName=function(e){this.doc.execCommand("fontName",!1,e)},e.prototype.setFontSize=function(e){this.doc.execCommand("fontSize",!1,e)},e.prototype.insertHtml=function(e){if(!this.doc.execCommand("insertHTML",!1,e))throw new Error("Unable to perform the operation")},e.prototype.restoreSelection=function(){if(!this.savedSelection)return!1;if(this.doc.getSelection){var e=this.doc.getSelection();return e.removeAllRanges(),e.addRange(this.savedSelection),!0}return!!this.doc.getSelection||void 0},e.prototype.executeInNextQueueIteration=function(e,t){void 0===t&&(t=100),setTimeout(e,t)},e.prototype.checkSelection=function(){if(0===this.savedSelection.toString().length)throw new Error("No Selection Made");return!0},e.prototype.uploadImage=function(e){var t=new FormData;return t.append("file",e,e.name),this.http.post(this.uploadUrl,t,{reportProgress:!0,observe:"events"})},e.prototype.insertImage=function(e){this.doc.execCommand("insertImage",!1,e)},e.prototype.setDefaultParagraphSeparator=function(e){this.doc.execCommand("defaultParagraphSeparator",!1,e)},e.prototype.createCustomClass=function(e){var t=this.selectedText;if(e){var o=e.tag?e.tag:"span";t="<"+o+' class="'+e.class+'">'+this.selectedText+"</"+o+">"}this.insertHtml(t)},e.prototype.insertVideo=function(e){e.match("www.youtube.com")&&this.insertYouTubeVideoTag(e),e.match("vimeo.com")&&this.insertVimeoVideoTag(e)},e.prototype.insertYouTubeVideoTag=function(e){var t=e.split("v=")[1];this.insertHtml("\n      <div style='position: relative'>\n        <img style='position: absolute; left:200px; top:140px'\n             src=\"https://img.icons8.com/color/96/000000/youtube-play.png\"/>\n        <a href='"+e+"' target='_blank'>\n          <img src=\"https://img.youtube.com/vi/"+t+'/0.jpg" alt="click to watch"/>\n        </a>\n      </div>')},e.prototype.insertVimeoVideoTag=function(e){var t=this,o=this.http.get("https://vimeo.com/api/oembed.json?url="+e).subscribe(function(i){t.insertHtml("<div>\n        <a href='"+e+"' target='_blank'>\n          <img src=\""+i.thumbnail_url_with_play_button+'" alt="'+i.title+'"/>\n        </a>\n      </div>'),o.unsubscribe()})},e.prototype.nextNode=function(e){if(e.hasChildNodes())return e.firstChild;for(;e&&!e.nextSibling;)e=e.parentNode;return e?e.nextSibling:null},e.prototype.getRangeSelectedNodes=function(e,t){var o=e.startContainer,i=e.endContainer,n=[];if(o===i)n=[o];else{for(;o&&o!==i;)n.push(o=this.nextNode(o));for(o=e.startContainer;o&&o!==e.commonAncestorContainer;)n.unshift(o),o=o.parentNode}if(t)for(o=e.commonAncestorContainer;o;)n.push(o),o=o.parentNode;return n},e.prototype.getSelectedNodes=function(){var e=[];if(this.doc.getSelection)for(var t=this.doc.getSelection(),o=0,i=t.rangeCount;o<i;++o)e.push.apply(e,this.getRangeSelectedNodes(t.getRangeAt(o),!0));return e},e.prototype.replaceWithOwnChildren=function(e){for(var t=e.parentNode;e.hasChildNodes();)t.insertBefore(e.firstChild,e);t.removeChild(e)},e.prototype.removeSelectedElements=function(e){var t=this,o=e.toLowerCase().split(",");this.getSelectedNodes().forEach(function(e){1===e.nodeType&&o.indexOf(e.tagName.toLowerCase())>-1&&t.replaceWithOwnChildren(e)})},e.ngInjectableDef=Object(i["\u0275\u0275defineInjectable"])({factory:function(){return new e(Object(i["\u0275\u0275inject"])(n.c),Object(i["\u0275\u0275inject"])(s.DOCUMENT))},token:e,providedIn:"root"}),e}(),a={editable:!0,spellcheck:!0,height:"auto",minHeight:"0",maxHeight:"auto",width:"auto",minWidth:"0",translate:"yes",enableToolbar:!0,showToolbar:!0,placeholder:"Enter text here...",defaultParagraphSeparator:"",defaultFontName:"",defaultFontSize:"",fonts:[{class:"arial",name:"Arial"},{class:"times-new-roman",name:"Times New Roman"},{class:"calibri",name:"Calibri"},{class:"comic-sans-ms",name:"Comic Sans MS"}],uploadUrl:"v1/image",sanitize:!0,toolbarPosition:"top",outline:!0},c=function(){function e(e,t,o){this.r=e,this.editorService=t,this.doc=o,this.htmlMode=!1,this.linkSelected=!1,this.block="default",this.fontName="Times New Roman",this.fontSize="3",this.headings=[{label:"Heading 1",value:"h1"},{label:"Heading 2",value:"h2"},{label:"Heading 3",value:"h3"},{label:"Heading 4",value:"h4"},{label:"Heading 5",value:"h5"},{label:"Heading 6",value:"h6"},{label:"Heading 7",value:"h7"},{label:"Paragraph",value:"p"},{label:"Heading 7",value:"h7"},{label:"Predefined",value:"pre"},{label:"Standard",value:"div"},{label:"default",value:"default"}],this.fontSizes=[{label:"1",value:"1"},{label:"2",value:"2"},{label:"3",value:"3"},{label:"4",value:"4"},{label:"5",value:"5"},{label:"6",value:"6"},{label:"7",value:"7"}],this.customClassId="-1",this.customClassList=[{label:"",value:""}],this.tagMap={BLOCKQUOTE:"indent",A:"link"},this.select=["H1","H2","H3","H4","H5","H6","P","PRE","DIV"],this.buttons=["bold","italic","underline","strikeThrough","subscript","superscript","justifyLeft","justifyCenter","justifyRight","justifyFull","indent","outdent","insertUnorderedList","insertOrderedList","link"],this.fonts=[{label:"",value:""}],this.execute=new i.EventEmitter}return Object.defineProperty(e.prototype,"customClasses",{set:function(e){e&&(this._customClasses=e,this.customClassList=this._customClasses.map(function(e,t){return{label:e.name,value:t.toString()}}),this.customClassList.unshift({label:"Clear Class",value:"-1"}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultFontName",{set:function(e){e&&(this.fontName=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultFontSize",{set:function(e){e&&(this.fontSize=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLinkButtonDisabled",{get:function(){return this.htmlMode||!Boolean(this.editorService.selectedText)},enumerable:!0,configurable:!0}),e.prototype.triggerCommand=function(e){this.execute.emit(e)},e.prototype.triggerButtons=function(){var e=this;this.showToolbar&&this.buttons.forEach(function(t){var o=e.doc.queryCommandState(t),i=e.doc.getElementById(t+"-"+e.id);o?e.r.addClass(i,"active"):e.r.removeClass(i,"active")})},e.prototype.triggerBlocks=function(e){var t=this;if(this.showToolbar){this.linkSelected=e.findIndex(function(e){return"A"===e.nodeName})>-1;var o=!1;this.select.forEach(function(i){var n=e.find(function(e){return e.nodeName===i});void 0!==n&&i===n.nodeName?!1===o&&(t.block=n.nodeName.toLowerCase(),o=!0):!1===o&&(t.block="default")}),o=!1,this._customClasses&&this._customClasses.forEach(function(i,n){void 0!==e.find(function(e){if(e instanceof Element)return e.className===i.class})?!1===o&&(t.customClassId=n.toString(),o=!0):!1===o&&(t.customClassId="-1")}),Object.keys(this.tagMap).map(function(o){var i=t.doc.getElementById(t.tagMap[o]+"-"+t.id),n=e.find(function(e){return e.nodeName===o});void 0!==n&&o===n.nodeName?t.r.addClass(i,"active"):t.r.removeClass(i,"active")}),this.foreColour=this.doc.queryCommandValue("ForeColor"),this.fontSize=this.doc.queryCommandValue("FontSize"),this.fontName=this.doc.queryCommandValue("FontName").replace(/"/g,""),this.backColor=this.doc.queryCommandValue("backColor")}},e.prototype.insertUrl=function(){var e="https://",t=this.editorService.savedSelection;if(t&&"A"===t.commonAncestorContainer.parentElement.nodeName){var o=t.commonAncestorContainer.parentElement;""!==o.href&&(e=o.href)}(e=prompt("Insert URL link",e))&&""!==e&&"https://"!==e&&this.editorService.createLink(e)},e.prototype.insertVideo=function(){this.execute.emit("");var e=prompt("Insert Video link","https://");e&&""!==e&&"https://"!==e&&this.editorService.insertVideo(e)},e.prototype.insertColor=function(e,t){this.editorService.insertColor(e,t),this.execute.emit("")},e.prototype.setFontName=function(e){this.editorService.setFontName(e),this.execute.emit("")},e.prototype.setFontSize=function(e){this.editorService.setFontSize(e),this.execute.emit("")},e.prototype.setEditorMode=function(e){var t=this.doc.getElementById("toggleEditorMode-"+this.id);e?this.r.addClass(t,"active"):this.r.removeClass(t,"active"),this.htmlMode=e},e.prototype.onFileChanged=function(e){var t=this,o=e.target.files[0];if(o.type.includes("image/"))if(this.uploadUrl)this.editorService.uploadImage(o).subscribe(function(e){e instanceof n.i&&(t.editorService.insertImage(e.body.imageUrl),t.fileReset())});else{var i=new FileReader;i.onload=function(e){t.editorService.insertImage(e.currentTarget.result.toString())},i.readAsDataURL(o)}},e.prototype.fileReset=function(){this.myInputFile.nativeElement.value=""},e.prototype.setCustomClass=function(e){"-1"===e?this.execute.emit("clear"):this.editorService.createCustomClass(this._customClasses[+e])},e}(),l=function(){function e(e,t,o,n,s,r,c){this.r=e,this.editorService=t,this.doc=o,this.sanitizer=n,this.cdRef=s,this.autoFocus=c,this.modeVisual=!0,this.showPlaceholder=!1,this.disabled=!1,this.focused=!1,this.touched=!1,this.changed=!1,this.id="",this.config=a,this.placeholder="",this.viewMode=new i.EventEmitter,this.blurEvent=new i.EventEmitter,this.focusEvent=new i.EventEmitter,this.tabindex=-1;var l=Number(r);this.tabIndex=l||0===l?l:null}return e.prototype.onFocus=function(){this.focus()},e.prototype.ngOnInit=function(){this.config.toolbarPosition=this.config.toolbarPosition?this.config.toolbarPosition:a.toolbarPosition},e.prototype.ngAfterViewInit=function(){null!=this.autoFocus&&this.focus()},e.prototype.executeCommand=function(e){this.focus(),"toggleEditorMode"===e?this.toggleEditorMode(this.modeVisual):""!==e&&("clear"===e?(this.editorService.removeSelectedElements(this.getCustomTags()),this.onContentChange(this.textArea.nativeElement.innerHTML)):"default"===e?(this.editorService.removeSelectedElements("h1,h2,h3,h4,h5,h6,p,pre"),this.onContentChange(this.textArea.nativeElement.innerHTML)):this.editorService.executeCommand(e),this.exec())},e.prototype.onTextAreaFocus=function(e){var t=this;this.focused?e.stopPropagation():(this.focused=!0,this.focusEvent.emit(e),this.touched&&this.changed||this.editorService.executeInNextQueueIteration(function(){t.configure(),t.touched=!0}))},e.prototype.onTextAreaMouseOut=function(e){this.editorService.saveSelection()},e.prototype.onTextAreaBlur=function(e){if(this.editorService.executeInNextQueueIteration(this.editorService.saveSelection),"function"==typeof this.onTouched&&this.onTouched(),null!==e.relatedTarget){var t=e.relatedTarget.parentElement;t.classList.contains("angular-editor-toolbar-set")||t.classList.contains("ae-picker")||(this.blurEvent.emit(e),this.focused=!1)}},e.prototype.focus=function(){this.modeVisual?this.textArea.nativeElement.focus():(this.doc.getElementById("sourceText"+this.id).focus(),this.focused=!0)},e.prototype.onContentChange=function(e){e&&"<br>"!==e||(e=""),"function"==typeof this.onChange&&(this.onChange(this.config.sanitize||void 0===this.config.sanitize?this.sanitizer.sanitize(i.SecurityContext.HTML,e):e),!e!==this.showPlaceholder&&this.togglePlaceholder(this.showPlaceholder)),this.changed=!0},e.prototype.registerOnChange=function(e){this.onChange=function(t){return e("<br>"===t?"":t)}},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.writeValue=function(e){(!e||"<br>"===e||""===e)!==this.showPlaceholder&&this.togglePlaceholder(this.showPlaceholder),void 0!==e&&""!==e&&"<br>"!==e||(e=null),this.refreshView(e)},e.prototype.refreshView=function(e){this.r.setProperty(this.textArea.nativeElement,"innerHTML",null===e?"":e)},e.prototype.togglePlaceholder=function(e){e?(this.r.removeClass(this.editorWrapper.nativeElement,"show-placeholder"),this.showPlaceholder=!1):(this.r.addClass(this.editorWrapper.nativeElement,"show-placeholder"),this.showPlaceholder=!0)},e.prototype.setDisabledState=function(e){this.r[e?"addClass":"removeClass"](this.textArea.nativeElement,"disabled"),this.disabled=e},e.prototype.toggleEditorMode=function(e){var t,o=this,i=this.textArea.nativeElement;if(e){t=this.r.createText(i.innerHTML),this.r.setProperty(i,"innerHTML",""),this.r.setProperty(i,"contentEditable",!1);var n=this.r.createElement("pre");this.r.setStyle(n,"margin","0"),this.r.setStyle(n,"outline","none");var s=this.r.createElement("code");this.r.setProperty(s,"id","sourceText"+this.id),this.r.setStyle(s,"display","block"),this.r.setStyle(s,"white-space","pre-wrap"),this.r.setStyle(s,"word-break","keep-all"),this.r.setStyle(s,"outline","none"),this.r.setStyle(s,"margin","0"),this.r.setStyle(s,"background-color","#fff5b9"),this.r.setProperty(s,"contentEditable",!0),this.r.appendChild(s,t),this.focusInstance=this.r.listen(s,"focus",function(e){return o.onTextAreaFocus(e)}),this.blurInstance=this.r.listen(s,"blur",function(e){return o.onTextAreaBlur(e)}),this.r.appendChild(n,s),this.r.appendChild(i,n),this.doc.execCommand("defaultParagraphSeparator",!1,"div"),this.modeVisual=!1,this.viewMode.emit(!1),s.focus()}else this.doc.querySelectorAll?this.r.setProperty(i,"innerHTML",i.innerText):((t=this.doc.createRange()).selectNodeContents(i.firstChild),this.r.setProperty(i,"innerHTML",t.toString())),this.r.setProperty(i,"contentEditable",!0),this.modeVisual=!0,this.viewMode.emit(!0),this.onContentChange(i.innerHTML),i.focus();this.editorToolbar.setEditorMode(!this.modeVisual)},e.prototype.exec=function(){var e;this.editorToolbar.triggerButtons(),this.doc.getSelection&&(e=this.doc.getSelection(),this.editorService.executeInNextQueueIteration(this.editorService.saveSelection));for(var t=e.focusNode,o=[];t&&"editor"!==t.id;)o.unshift(t),t=t.parentNode;this.editorToolbar.triggerBlocks(o)},e.prototype.configure=function(){this.editorService.uploadUrl=this.config.uploadUrl,this.config.defaultParagraphSeparator&&this.editorService.setDefaultParagraphSeparator(this.config.defaultParagraphSeparator),this.config.defaultFontName&&this.editorService.setFontName(this.config.defaultFontName),this.config.defaultFontSize&&this.editorService.setFontSize(this.config.defaultFontSize)},e.prototype.getFonts=function(){return(this.config.fonts?this.config.fonts:a.fonts).map(function(e){return{label:e.name,value:e.name}})},e.prototype.getCustomTags=function(){var e=["span"];return this.config.customClasses.forEach(function(t){void 0!==t.tag&&(e.includes(t.tag)||e.push(t.tag))}),e.join(",")},e.prototype.ngOnDestroy=function(){this.blurInstance&&this.blurInstance(),this.focusInstance&&this.focusInstance()},e}(),h=function(){function e(e,t){this.elRef=e,this.r=t,this.options=[],this.disabled=!1,this.optionId=0,this.opened=!1,this.changeEvent=new i.EventEmitter,this.onChange=function(){},this.onTouched=function(){}}return Object.defineProperty(e.prototype,"label",{get:function(){return this.selectedOption&&this.selectedOption.hasOwnProperty("label")?this.selectedOption.label:"Select"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.selectedOption.value},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.selectedOption=this.options[0]},e.prototype.optionSelect=function(e,t){t.stopPropagation(),this.setValue(e.value),this.onChange(this.selectedOption.value),this.changeEvent.emit(this.selectedOption.value),this.onTouched(),this.opened=!1},e.prototype.toggleOpen=function(e){this.disabled||(this.opened=!this.opened)},e.prototype.onClick=function(e){this.elRef.nativeElement.contains(e.target)||this.close()},e.prototype.close=function(){this.opened=!1},Object.defineProperty(e.prototype,"isOpen",{get:function(){return this.opened},enumerable:!0,configurable:!0}),e.prototype.writeValue=function(e){e&&"string"==typeof e&&this.setValue(e)},e.prototype.setValue=function(e){var t=0,o=this.options.find(function(o,i){return t=i,o.value===e});o&&(this.selectedOption=o,this.optionId=t)},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this.labelButton.nativeElement.disabled=e,this.r[e?"addClass":"removeClass"](this.labelButton.nativeElement,"disabled"),this.disabled=e},e.prototype.handleKeyDown=function(e){if(this.opened)switch(e.key){case"ArrowDown":this._handleArrowDown(e);break;case"ArrowUp":this._handleArrowUp(e);break;case"Space":this._handleSpace(e);break;case"Enter":this._handleEnter(e);break;case"Tab":this._handleTab(e);break;case"Escape":this.close(),e.preventDefault();break;case"Backspace":this._handleBackspace()}},e.prototype._handleArrowDown=function(e){this.optionId<this.options.length-1&&this.optionId++},e.prototype._handleArrowUp=function(e){this.optionId>=1&&this.optionId--},e.prototype._handleSpace=function(e){},e.prototype._handleEnter=function(e){this.optionSelect(this.options[this.optionId],e)},e.prototype._handleTab=function(e){},e.prototype._handleBackspace=function(){},e}(),u=function(){return function(){}}()}}]);